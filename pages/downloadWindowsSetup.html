// Version ultra-rapide
async function startDownload() {
    try {
        // Récupère la dernière release
        const response = await fetch('https://api.github.com/repos/aet-services/std-051-smartvox-config-release-test/releases/latest');
        const release = await response.json();
        
        // Trouve le fichier Windows
        const windowsAsset = release.assets.find(asset => 
            asset.name.includes('Setup.exe') && !asset.name.includes('E2S')
        );
        
        if (windowsAsset) {
            // Redirection IMMÉDIATE - l'utilisateur ne voit rien
            window.location.replace(windowsAsset.browser_download_url);
        }
    } catch (error) {
        // En cas d'erreur, affiche la page normale
        document.getElementById('loading').style.display = 'none';
        document.getElementById('error').style.display = 'block';
    }
}

// Lance immédiatement
startDownload();
